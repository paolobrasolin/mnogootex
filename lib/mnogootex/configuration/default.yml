animation: ⣾⣽⣻⢿⡿⣟⣯⣷
commandline:
  - latexmk
  - -pdf
  - --interaction=nonstopmode
  - --shell-escape
filters:
  ignore:
    - !ruby/regexp '/LaTeX Warning: You have requested package/'
    - !ruby/regexp '/LaTeX Font Warning: Some font shapes/'
    - !ruby/regexp '/LaTeX Font Warning: Size substitutions/'
    - !ruby/regexp '/Package caption Warning: Unsupported document class/'
    - !ruby/regexp '/Package fixltx2e Warning: fixltx2e is not required/'
    - !ruby/regexp '/Package frenchb?\.ldf Warning: (Figures|The definition)/'
    - !ruby/regexp '/\*\*\* Reloading Xunicode for encoding/' # spurious ***
    - !ruby/regexp '/This is `?(epsf\.tex|.*\.sty|TAP)/' # so what

    # pdfTeX warning: pdflatex.exe (file ./fig.pdf): PDF inclusion: found PDF version <1.6>, but at most version <1.5> allowed
    - !ruby/regexp '/pdfTeX warning:.*inclusion: fou/'
    # pdfTeX warning: pdflatex (file ./doc.pdf): PDF inclusion: multiple pdfs with page group included in a single page
    - !ruby/regexp '/pdfTeX warning:.*inclusion: mul/'

    # no idea whence this came
    - !ruby/regexp '/libpng warning: iCCP: Not recognizing/'

    #
    - !ruby/regexp '/! $/'
  info:
    - !ruby/regexp '/This is/'
    - !ruby/regexp '/Output written/'
    - !ruby/regexp '/No pages of output/'

    # TODO: classify
    - !ruby/regexp '/\(.*end occurred inside a group/'
    - !ruby/regexp '/\\endL.*problem/' # XeTeX?
    - !ruby/regexp '/\*\*\*\s/' # *** from some packages or subprograms
    - !ruby/regexp '/all text was ignored after line/'
    - !ruby/regexp '/.*for symbol.*on input line/'
    - !ruby/regexp '/^.*?:[0-9]+:/' # usual file:lineno: form
  warning:
    - !ruby/regexp '/l\.[0-9]+/' # line number marking
    - !ruby/regexp '/(LaTeX|Package|Class).*Warning/'
    - !ruby/regexp '/(Und|Ov)erfull/'
    - !ruby/regexp '/.*Citation.*undefined/'
    - !ruby/regexp '/Missing character:/' # good to show (need \tracinglostchars=1)
  error:
    - !ruby/regexp '/.*Fatal error/'
    - !ruby/regexp '/.* Error/' # as in \Url Error ->...
    - !ruby/regexp '/(LaTeX|Package|Class).*Error/'
  # next:
  #   - !ruby/regexp '/^!/' # usual ! form
  #   - !ruby/regexp '/^> [^<]/' # from \show..., but not "> <img.whatever"
  #   - !ruby/regexp '/^.*pdfTeX warning/' # pdftex complaints often cross lines
  #   - !ruby/regexp '/^LaTeX Font Warning: Font shape/'
  #   - !ruby/regexp '/^Package hyperref Warning: Token not allowed/'
  #   - !ruby/regexp '/^removed on input line/' # hyperref
  #   - !ruby/regexp '/^Runaway argument/'
